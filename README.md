# JumpPointSearch
JumpPointSearch, Bresenham Algorithm
JumpPointSearch 구현 설명

AStar 알고리즘을 기반으로 하여 목적지 까지의 노드 저장회수를 최소화 하기 위해 코너노드를 검색.

​

1. 부모가 없을 경우 전체 8 방향 검색 시작.(코너 탐색)

(윗쪽, 왼쪽, 왼쪽 위, 오른쪽, 오른쪽 위, 아래쪽, 왼쪽 아래, 오른쪽 아래)

2. 부모가 있을 경우 부모의 방향으로 탐색.(코너 탐색)

​

코너 탐색(직선 방향(ex위쪽))

- 최대 3방향 탐색 가능

(진행 방향으로 탐색(기본), 왼쪽 위 대각선 탐색(코너), 오른쪽 위 대각선 탐색(코너))

- 현재 위치에서 오른쪽이 막혀있고 오른쪽 위가 이동 가능 노드이면 코너로 판단.

- 현재 위치에서 왼쪽이 막혀있고 왼쪽 위가 이동 가능 노드이면 코너로 판단.

코너 탐색(대각선 방향(ex왼쪽위))

- 최대 5방향 탐색가능

(진행 방향 탐색(기본), 왼쪽 탐색(기본), 오른쪽 탐색(기본), 위쪽 코너 탐색, 아래쪽 코너 탐색)

- 오른쪽이 막혀있고 오른쪽 위가 이동 가능 노드이면 코너로 판단.(위쪽 코너)

- 아래쪽 노드가 막혀있고 아래쪽 왼쪽 노드가 이동 가능 노드이면 코너로 판단.(아래쪽 코너)

- 수직, 수평 방향으로 탐색을 진행하여 코너가 있으면 해당 위치에 코너 생성.

​

3. 코너를 찾으면 오픈리스트에 저장. 

- Manhattan 방식 사용하여 부모 사각형에서 노드 비용 계산 G

- Manhattan 방식 사용하여 현재 사각형에서 목적지 비용 계산 H

- G + H 인 F값을 저장하여 기존에 오픈리스트에 있는 노드와 검색하여 비용이 더 적은 노드와 교체 진행

​

4. G + H 인 F 값을 비교하여 제일 적은 비용을 클로즈리스트에 저장하면서 최종 목적지 탐색.

​

Bresenham 알고리즘 이용

Bresenham 알고리즘 이용하여 직선을 구한다 이때 소수점 연산이 필요없기 때문에 효율적으로 계산 가능.

JPS 알고리즘 이용하여 얻은 최종경로 노드들 가운데 직선을 구하면서 장애물이 있는지 없는지 체크하여  생략하여 더욱 짧은 거리를 구해낸다.

타일 단위의 게임에서는 단순 ray casting 을 이용하여 충돌체크 및 장애물 체크가 힘들기 때문에 bresenham 알고리즘을 이용하여 체크한다.

​
